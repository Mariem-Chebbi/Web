{% extends 'base_front.html.twig' %}

{% block formation %}
<li class="has-sub">
    <a href="javascript:void(0)">Formations</a>
    <ul class="sub-menu">
        <li><a href="{{path('afficheC')}}">Formations</a></li>
        <li><a href="{{path('afficheCertif')}}">Mes certifs</a></li>
        
    </ul>
</li>
{% endblock %}

{% block body %}
<section class="our-courses" id="courses">
    <div class="container">
    
      <div class="row">
        <div class="col-lg-6 offset-lg-3">
          <div class="section-heading">
            
            <h4>Les <em>Formations</em> disponibles </h4><br>
            <h6>se former autrement </h6>
            {# <p>You just think about TemplateMo whenever you need free CSS templates for your business website</p> #}
          </div>
        </div>

        <div>
     

    
    <div id="search-results">
         {# {% include "formation/showFormation.html.twig" with {"Formation": Formation} %}   #}
    </div>
  


        </div><br></br>

        <div class="col-lg-12">
          <div class="naccs">
            <div class="tabs">
              <div class="row" >
        {{ knp_pagination_render(Formation) }}        
                <div class="col-lg-10">
                  <ul class="nacc">
                  {% for message in app.flashes('success') %}
<div class="alert alert-success">
{{ message }}
</div>
{% endfor %}
                  {# {% set sortedElements = elements| orderBy ('createdAt') %} #}
                  {% for i in Formation %}
                    <li class="active">
                   
                      <div>
                        <div class="left-image">
                          <img src= "{{ asset('images/' ~ i.image) }}" style="width: 300px; height: auto;">
                          <div class="price"></div>
                        </div>
                        <div class="right-content">
                          <h4>{{i.libelle}}</h4>
                          <p>{{i.description|slice(0, 100) ~ '...'}}</p>
                          <span>Date</span>
                          <span>{{i.dateFormation|date('Y-m-d')}}</span>
                          <span class="last-span">
                          <a href="{{path('afficheDetailsF',{'id':i.id}) }}" class="btn btn-white">+ détails</a><br>
                          {# <a href="contact-us.html"></a> #}
                          </span><br>
                          <br>
                          <div></div>
                          
                          {# <a href="{{ path('inscription_formation', { 'id_personnel': 1 , 'id_formation': 24 }) }}">s'inscription</a></div>  #}
                          {% if app.user %}
                  {% if i.isInscription(app.user) %}
                      <a href="{{ path('inscription_remove', {'id': i.getInscriptions(app.user).getId()}) }}">✅</a>
                  {% else %}
                      <div class="main-button-gradient" style="width: 10px ; height: auto;">
                      <a href="{{ path('inscription_add', {'id': i.getId()}) }}">s'inscrire</a>
                  {% endif %}
              {% endif %}
                        </div>
                      </div>
                    </li><br>
                    {% endfor %}
                    </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="center">
        </div>
      </div>
    </div>
   
  </section>
  {% endblock %}
                            




 {# <td>${formation.image}</td>
                            <td>${formation.libelle}</td>
                            <td>${formation.description}</td>
                            <td>${formation.dateFormation|date('Y-m-d')}</td>                           
                            <td>
                        <a href="/afficheDetailsFormation/${formation.id}" class="btn btn-white">+ détails</a><br>
                        <a href="/rdv/delete/${rdv.id}" class="text-danger p-2">
                            
                        </a>
                    </td>
 #}





  {# {% block javascripts %}
    <script>
        $(document).ready(function() {
            // Écouteur d'événement pour la soumission du formulaire de recherche
            $('#search-form').on('submit', function(event) {
                event.preventDefault();
                search();
            });

            // Écouteur d'événement pour la saisie dans le champ de recherche
            $('#search-term').on('input', function() {
                search();
            });
        });

        // Fonction de recherche AJAX
        function search() {
            $.ajax({
                url: '{{ path('formation_search_ajax') }}',
                type: 'POST',
                data: {
                    search: $('#search-term').val()
                },
                success: function(response) {
                    $('#search-results').html(response);
                }
            });
        }
    </script>
{% endblock %} #}